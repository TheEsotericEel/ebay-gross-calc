{
  "version": 3,
  "sources": ["../../src/options/options.ts"],
  "sourcesContent": ["\uFEFF// src/options/options.ts (replace whole file)\r\n/// <reference types=\"chrome-types\" />\r\ntype Order = {\r\n  gross: number; itemPrice?: number; shippingCost: number; cogs: number;\r\n  fees?: number; ads?: number; refunds?: number;\r\n};\r\n\r\nconst weeklyEl = document.getElementById(\"weeklyGoal\") as HTMLInputElement;\r\nconst listingEl = document.getElementById(\"listingGoalDaily\") as HTMLInputElement;\r\nconst saveGoals = document.getElementById(\"saveGoals\") as HTMLButtonElement;\r\nconst statusEl = document.getElementById(\"status\") as HTMLSpanElement;\r\n\r\nconst el = (id: string) => document.getElementById(id) as HTMLInputElement;\r\nconst tBody = document.querySelector<HTMLTableSectionElement>(\"#ordersTable tbody\")!;\r\n\r\nasync function getState() {\r\n  const { weeklyGoal = 0, listingGoalDaily = 0, orders = [] } =\r\n    await chrome.storage.local.get([\"weeklyGoal\", \"listingGoalDaily\", \"orders\"]);\r\n  return { weeklyGoal, listingGoalDaily, orders: orders as Order[] };\r\n}\r\n\r\nfunction num(v: string) { const n = parseFloat(v); return Number.isFinite(n) ? n : 0; }\r\n\r\nasync function render() {\r\n  const { weeklyGoal, listingGoalDaily, orders } = await getState();\r\n  weeklyEl.value = String(weeklyGoal);\r\n  listingEl.value = String(listingGoalDaily);\r\n\r\n  tBody.innerHTML = orders.map((o, i) => `\r\n    <tr>\r\n      <td>${i + 1}</td>\r\n      <td>$${o.gross?.toFixed(2) ?? \"0.00\"}</td>\r\n      <td>$${o.itemPrice?.toFixed(2) ?? \"\"}</td>\r\n      <td>$${o.shippingCost?.toFixed(2) ?? \"0.00\"}</td>\r\n      <td>$${o.cogs?.toFixed(2) ?? \"0.00\"}</td>\r\n      <td>$${o.fees?.toFixed(2) ?? \"\"}</td>\r\n      <td>$${o.ads?.toFixed(2) ?? \"\"}</td>\r\n      <td>$${o.refunds?.toFixed(2) ?? \"\"}</td>\r\n      <td><button data-del=\"${i}\">Delete</button></td>\r\n    </tr>\r\n  `).join(\"\");\r\n\r\n  tBody.querySelectorAll<HTMLButtonElement>(\"button[data-del]\").forEach(btn => {\r\n    btn.onclick = async () => {\r\n      const idx = Number(btn.dataset.del);\r\n      const fresh = (await getState()).orders;\r\n      fresh.splice(idx, 1);\r\n      await chrome.storage.local.set({ orders: fresh });\r\n      render();\r\n    };\r\n  });\r\n}\r\n\r\nsaveGoals.onclick = async () => {\r\n  await chrome.storage.local.set({\r\n    weeklyGoal: num(weeklyEl.value),\r\n    listingGoalDaily: num(listingEl.value)\r\n  });\r\n  statusEl.textContent = \"Saved\";\r\n  setTimeout(() => (statusEl.textContent = \"\"), 800);\r\n};\r\n\r\n(document.getElementById(\"addOrder\") as HTMLButtonElement).onclick = async () => {\r\n  const o: Order = {\r\n    gross: num(el(\"o_gross\").value),\r\n    itemPrice: el(\"o_itemPrice\").value ? num(el(\"o_itemPrice\").value) : undefined,\r\n    shippingCost: num(el(\"o_ship\").value),\r\n    cogs: num(el(\"o_cogs\").value),\r\n    fees: el(\"o_fees\").value ? num(el(\"o_fees\").value) : undefined,\r\n    ads: el(\"o_ads\").value ? num(el(\"o_ads\").value) : undefined,\r\n    refunds: el(\"o_refunds\").value ? num(el(\"o_refunds\").value) : undefined\r\n  };\r\n  const st = await getState();\r\n  await chrome.storage.local.set({ orders: [...st.orders, o] });\r\n  // clear inputs except ship/cogs which often repeat; keep as-is for speed\r\n  [\"o_gross\",\"o_itemPrice\",\"o_fees\",\"o_ads\",\"o_refunds\"].forEach(id => (el(id).value = \"\"));\r\n  render();\r\n};\r\n\r\n(document.getElementById(\"clearOrders\") as HTMLButtonElement).onclick = async () => {\r\n  await chrome.storage.local.set({ orders: [] });\r\n  render();\r\n};\r\n\r\n(document.getElementById(\"exportOrders\") as HTMLButtonElement).onclick = async () => {\r\n  const { orders } = await getState();\r\n  const blob = new Blob([JSON.stringify(orders, null, 2)], { type: \"application/json\" });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.href = url; a.download = \"orders.json\"; a.click();\r\n  URL.revokeObjectURL(url);\r\n};\r\n\r\nrender();\r\n"],
  "mappings": ";AAOA,IAAM,WAAW,SAAS,eAAe,YAAY;AACrD,IAAM,YAAY,SAAS,eAAe,kBAAkB;AAC5D,IAAM,YAAY,SAAS,eAAe,WAAW;AACrD,IAAM,WAAW,SAAS,eAAe,QAAQ;AAEjD,IAAM,KAAK,CAAC,OAAe,SAAS,eAAe,EAAE;AACrD,IAAM,QAAQ,SAAS,cAAuC,oBAAoB;AAElF,eAAe,WAAW;AACxB,QAAM,EAAE,aAAa,GAAG,mBAAmB,GAAG,SAAS,CAAC,EAAE,IACxD,MAAM,OAAO,QAAQ,MAAM,IAAI,CAAC,cAAc,oBAAoB,QAAQ,CAAC;AAC7E,SAAO,EAAE,YAAY,kBAAkB,OAA0B;AACnE;AAEA,SAAS,IAAI,GAAW;AAAE,QAAM,IAAI,WAAW,CAAC;AAAG,SAAO,OAAO,SAAS,CAAC,IAAI,IAAI;AAAG;AAEtF,eAAe,SAAS;AACtB,QAAM,EAAE,YAAY,kBAAkB,OAAO,IAAI,MAAM,SAAS;AAChE,WAAS,QAAQ,OAAO,UAAU;AAClC,YAAU,QAAQ,OAAO,gBAAgB;AAEzC,QAAM,YAAY,OAAO,IAAI,CAAC,GAAG,MAAM;AAAA;AAAA,YAE7B,IAAI,CAAC;AAAA,aACJ,EAAE,OAAO,QAAQ,CAAC,KAAK,MAAM;AAAA,aAC7B,EAAE,WAAW,QAAQ,CAAC,KAAK,EAAE;AAAA,aAC7B,EAAE,cAAc,QAAQ,CAAC,KAAK,MAAM;AAAA,aACpC,EAAE,MAAM,QAAQ,CAAC,KAAK,MAAM;AAAA,aAC5B,EAAE,MAAM,QAAQ,CAAC,KAAK,EAAE;AAAA,aACxB,EAAE,KAAK,QAAQ,CAAC,KAAK,EAAE;AAAA,aACvB,EAAE,SAAS,QAAQ,CAAC,KAAK,EAAE;AAAA,8BACV,CAAC;AAAA;AAAA,GAE5B,EAAE,KAAK,EAAE;AAEV,QAAM,iBAAoC,kBAAkB,EAAE,QAAQ,SAAO;AAC3E,QAAI,UAAU,YAAY;AACxB,YAAM,MAAM,OAAO,IAAI,QAAQ,GAAG;AAClC,YAAM,SAAS,MAAM,SAAS,GAAG;AACjC,YAAM,OAAO,KAAK,CAAC;AACnB,YAAM,OAAO,QAAQ,MAAM,IAAI,EAAE,QAAQ,MAAM,CAAC;AAChD,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACH;AAEA,UAAU,UAAU,YAAY;AAC9B,QAAM,OAAO,QAAQ,MAAM,IAAI;AAAA,IAC7B,YAAY,IAAI,SAAS,KAAK;AAAA,IAC9B,kBAAkB,IAAI,UAAU,KAAK;AAAA,EACvC,CAAC;AACD,WAAS,cAAc;AACvB,aAAW,MAAO,SAAS,cAAc,IAAK,GAAG;AACnD;AAEC,SAAS,eAAe,UAAU,EAAwB,UAAU,YAAY;AAC/E,QAAM,IAAW;AAAA,IACf,OAAO,IAAI,GAAG,SAAS,EAAE,KAAK;AAAA,IAC9B,WAAW,GAAG,aAAa,EAAE,QAAQ,IAAI,GAAG,aAAa,EAAE,KAAK,IAAI;AAAA,IACpE,cAAc,IAAI,GAAG,QAAQ,EAAE,KAAK;AAAA,IACpC,MAAM,IAAI,GAAG,QAAQ,EAAE,KAAK;AAAA,IAC5B,MAAM,GAAG,QAAQ,EAAE,QAAQ,IAAI,GAAG,QAAQ,EAAE,KAAK,IAAI;AAAA,IACrD,KAAK,GAAG,OAAO,EAAE,QAAQ,IAAI,GAAG,OAAO,EAAE,KAAK,IAAI;AAAA,IAClD,SAAS,GAAG,WAAW,EAAE,QAAQ,IAAI,GAAG,WAAW,EAAE,KAAK,IAAI;AAAA,EAChE;AACA,QAAM,KAAK,MAAM,SAAS;AAC1B,QAAM,OAAO,QAAQ,MAAM,IAAI,EAAE,QAAQ,CAAC,GAAG,GAAG,QAAQ,CAAC,EAAE,CAAC;AAE5D,GAAC,WAAU,eAAc,UAAS,SAAQ,WAAW,EAAE,QAAQ,QAAO,GAAG,EAAE,EAAE,QAAQ,EAAG;AACxF,SAAO;AACT;AAEC,SAAS,eAAe,aAAa,EAAwB,UAAU,YAAY;AAClF,QAAM,OAAO,QAAQ,MAAM,IAAI,EAAE,QAAQ,CAAC,EAAE,CAAC;AAC7C,SAAO;AACT;AAEC,SAAS,eAAe,cAAc,EAAwB,UAAU,YAAY;AACnF,QAAM,EAAE,OAAO,IAAI,MAAM,SAAS;AAClC,QAAM,OAAO,IAAI,KAAK,CAAC,KAAK,UAAU,QAAQ,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,mBAAmB,CAAC;AACrF,QAAM,MAAM,IAAI,gBAAgB,IAAI;AACpC,QAAM,IAAI,SAAS,cAAc,GAAG;AACpC,IAAE,OAAO;AAAK,IAAE,WAAW;AAAe,IAAE,MAAM;AAClD,MAAI,gBAAgB,GAAG;AACzB;AAEA,OAAO;",
  "names": []
}
